# 复合类型

## 数组

数组(array)是一种数据格式，能够存储多个同类型的值。每个值都存储在一个独立的数组元素中，计算机在内存中依次存储数组的各个元素。
要创建数组，可使用声明语句。数组声明应指出一下三点：

- 存储在每个元素中的值的类型
- 数组名
- 数组中的元素数
  在 C++中，可以通过修改简单变量的声明，添加中括号(其中包含元素数组)来完成数组声明。
  声明数组的通用格式如下：
  `typename arrayname[arraySize]`;

表达式`arraySize`指定元素数目，它必须是整形常数或 const 值，也可以是常量表达式(如 8\*sizeof(int))，即其中所有的值在编译时都是一致的。具体地说，arraySize 不能是变量，变量的值是在程序运行时设置的。然而，我们可以用 new 运算符进行规避。
数组之所以被称为复合类型，是因为他是使用其他类型来创建的。不能仅仅将某种东西声明维数组，它必须是特定类型的数组。没有通用的数组类型，但存在很多特定的数组类型。
数组的和多用途都是基于这样一个事实：可以单独访问数组元素。方法是使用下标或索引来对元素进行编号。C++数组从 0 开始编号。C++使用带索引的方括号表示法来指定数组元素。因此，数组元素声明能够使用一个声明创建大量的变量，然后便可以用索引来标识和访问各个元素。
注意：
编译器不会检查使用的下表是否有效。

### 数组的初始化规则

只有定义数组时才能使用初始化，此后就不能使用了，也不能将一个数组赋给另一个数组。然而，可以使用下标分别给数组中的元素赋值。
初始化数组时，提供的值可以少于数组的元素数目。如果只对数组的一部分进行初始化，则编译器将把其他元素设置为 0.因此，将数组中所有的数组都初始化为 0 非常简单——只要显式地将第一个元素初始化为 0，然后让编译器将其他元素都初始化为 0 即可。
如果初始化数组时方括号内为空，C++编译器将计算元素个数。

## 字符串

字符串是存储在内存的连续字节中的一系列字符。C++处理字符串的方式有两种。第一种来自 C 语言，常被称为 C-风格字符串(C-style string)。本章将首先介绍他，然后介绍另一种基于 string 类库的方法。我们首先介绍它。
存储在连续字节中的一些列字符意味着可以将字符串存储在`char`数组中，其中每个字符都位于自己的数组元素中。字符串提供了一种存储文本信息的便捷方式。C-字符串具有一种特殊的性质：以空字符(null character)结尾，空字符被写作`\0`，其中 ASCII 码为 0，用来标记字符串的结尾。
将字符数组初始化为字符串，更好的方法是使用引号括起字符串即可，这种字符串被称为字符串常量，这种字符串被称为字符串常量或字符串字面值。
用引号括起的字符串隐式地包括结尾的空字符，因此不用显式地包括他。

### 拼接字符串常量

有时候，字符串很长无法放到一行中。C++允许拼接字符串字面值，即将两个用引号阔气的字符串合并成为一个。事实上，任何两个有空白(空格、制表符和换行符)分隔的字符串常量都将自动拼接成一个。
注意，拼接式，不会再被连接的字符串之间添加空格，第一个字符串中的`\0`将被第二个字符串的第一个字符取代。

### 在数组中使用字符串

要将字符串存储到数组中，最常用的方法有两种——将数组初始化为字符串常量、将键盘或文件输入读入到数组中。
我们可以使用`sizeof`来计算整个数组的长度，以及使用`strlen()`来计算存储在数组中的字符串的长度。

```Cpp
#include<iostream>
using namespace std;
int main() {
	char str[20] = "Hello world";
	cout << sizeof(str) << " " << strlen(str) << endl;
}
```

### 字符串输入

`cin`是如何确定已完成字符串输入呢？由于不能通过通过键盘输入空字符，因此`cin`需要用别的方法来确定字符串的结尾位置。`cin`使用空白来确定字符串的结束位置，这意味着`cin`在获取字符数组输入时只读取一个单词。读取该单词后，`cin`将该字符串放到数组中，并自动在结尾添加空字符串。

#### 每次读取一行字符串输入

`getline`函数读取整行，它使用通过回车键输入的换行符老确定输入结尾。要调用这种方法，可以使用`cin.getline()`。该函数有两个参数，第一个参数是用来存储输入行的数组的名称，第二个参数是要读取的字符数。如果参数为 20，则函数最多读取 19 个字符，余下的空间用于存储自动在结尾处添加的空字符。`getline()`成员函数在读取指定树木的字符或遇到换行符时停止读取。
